{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ibrohim\\\\Desktop\\\\telegram-clone\\\\src\\\\Components\\\\Otish.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport Search from \"./Search\";\nimport Online from \"./Online\";\nimport Message from \"./Message\";\nimport { useDispatch } from \"react-redux\";\nimport { user_action } from \"../redux/action/userAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Otish = () => {\n  _s();\n\n  const token = localStorage.getItem(\"token\");\n  const dispatch = useDispatch();\n  useEffect(() => {\n    getUserInfo(token);\n  }, []);\n\n  async function getUserInfo(token) {\n    const resp = await fetch(\"https://telegram-alisherjon-api.herokuapp.com/users/\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Bearer ${token}`\n      },\n      method: \"GET\"\n    });\n    const respData = await resp.json();\n    console.log(respData);\n    const userId = respData.user._id;\n    const friends = [];\n    respData.user.chats.forEach(member => {\n      const obj = {\n        chatId: member._id,\n        friendName: \"\",\n        friendPhone: \"\",\n        friendUserName: \"\"\n      };\n      member.members.forEach(inside => {\n        if (inside._id !== userId) {\n          obj.friendName = inside.name;\n          obj.friendPhone = inside.phone;\n          obj.friendUserName = inside.username;\n        }\n      });\n      friends.push(obj);\n    });\n    const user = {\n      name: respData.user.name,\n      phone: respData.user.phone,\n      friends,\n      username: respData.user.username,\n      userId\n    };\n    dispatch(user_action(user));\n    localStorage.setItem(\"user\", JSON.stringify(user));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left\",\n        children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right\",\n        children: /*#__PURE__*/_jsxDEV(Online, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Otish, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Otish;\nexport default Otish;\n\nvar _c;\n\n$RefreshReg$(_c, \"Otish\");","map":{"version":3,"sources":["C:/Users/Ibrohim/Desktop/telegram-clone/src/Components/Otish.js"],"names":["React","useEffect","Search","Online","Message","useDispatch","user_action","Otish","token","localStorage","getItem","dispatch","getUserInfo","resp","fetch","headers","authorization","method","respData","json","console","log","userId","user","_id","friends","chats","forEach","member","obj","chatId","friendName","friendPhone","friendUserName","members","inside","name","phone","username","push","setItem","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport Search from \"./Search\";\r\nimport Online from \"./Online\";\r\nimport Message from \"./Message\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { user_action } from \"../redux/action/userAction\";\r\n\r\nconst Otish = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    getUserInfo(token);\r\n  }, []);\r\n\r\n  async function getUserInfo(token) {\r\n    const resp = await fetch(\r\n      \"https://telegram-alisherjon-api.herokuapp.com/users/\",\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n        method: \"GET\",\r\n      }\r\n    );\r\n\r\n    const respData = await resp.json();\r\n\r\n    console.log(respData);\r\n\r\n    const userId = respData.user._id;\r\n\r\n    const friends = [];\r\n\r\n    respData.user.chats.forEach((member) => {\r\n      const obj = {\r\n        chatId: member._id,\r\n        friendName: \"\",\r\n        friendPhone: \"\",\r\n        friendUserName: \"\",\r\n      };\r\n      member.members.forEach((inside) => {\r\n        if (inside._id !== userId) {\r\n          obj.friendName = inside.name;\r\n          obj.friendPhone = inside.phone;\r\n          obj.friendUserName = inside.username;\r\n        }\r\n      });\r\n      friends.push(obj);\r\n    });\r\n\r\n    const user = {\r\n      name: respData.user.name,\r\n      phone: respData.user.phone,\r\n      friends,\r\n      username: respData.user.username,\r\n      userId,\r\n    };\r\n\r\n    dispatch(user_action(user));\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"section\">\r\n        <div className=\"left\">\r\n          <Search />\r\n        </div>\r\n        <div className=\"right\">\r\n          <Online />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Otish;\r\n"]},"metadata":{},"sourceType":"module"}